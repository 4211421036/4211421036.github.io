<!DOCTYPE html>
<html lang="en">

<head>
    <title>Web Page Application Store Github</title>
    <meta charset="UTF-8">
    <link href=/manifest.json rel=manifest crossorigin=use-credentials>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="This is collation application created by GALIH RIDHO UTOMO ">
    <meta name="keywords" content="HTML, CSS, JavaScript, Web Development, SEO">
    <meta name="author" content="GALIH RIDHO UTOMO">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Web Page">
    <meta property="og:description" content="This is collation application created by GALIH RIDHO UTOMO ">
    <meta property="og:image" content="http://4211421036.github.io/345677.png">
    <meta property="og:url" content="http://4211421036.github.io">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Web Page">
    <meta name="twitter:description" content="This is collation application created by GALIH RIDHO UTOMO ">
    <meta name="twitter:image" content="http://4211421036.github.io/345677.png">
    <link rel="canonical" href="http://4211421036.github.io">
    <link href="/style.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="icon" href="https://4211421036.github.io/g4lihru/987654567.png" type="image/x-icon">
    <link rel="alternate" media="only screen and (max-width: 640px)" href="https://4211421036.github.io/mobile/" />
    <script type src="/theme.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            if (window.innerWidth < 720) {
                document.head.innerHTML += '<meta http-equiv="refresh" content="0;url=https://4211421036.github.io/mobile">';
            }
        });
    </script>
</head>

<body>
    <div id="splash-screen"
        style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: var(--background-color); display: flex; align-items: center; justify-content: center; z-index: 1000;">
        <img src="https://4211421036.github.io/g4lihru/987654567.png" alt="Logo"
            style="width: 150px; height: 150px; background: white; border-radius: 25px;">
    </div>
    <script>
        // Hide splash screen after 3 seconds
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('splash-screen').style.display = 'none';
            }, 500);
        });
    </script>
    <div class="sidebar">
        <div class="sidebar-item" data-link="home" title="Home">
            <i class="fas fa-home"></i>
            <div class="tooltip">Home</div>
        </div>
        <div class="sidebar-item" data-link="download" title="Download">
            <i class="fas fa-download"></i>
            <div class="tooltip">Download</div>
        </div>
        <div class="sidebar-item" data-link="book" title="Book">
            <i class="fas fa-book"></i>
            <div class="tooltip">Book</div>
        </div>
    </div>
    <script src="sdb.js"></script>
    <div class="content">
        <div class="carousel">
            <div class="carousel-track">
                <div class="carousel-item carousel-item1">
                    <img alt="Breaking Bad character sitting in a warehouse" height="400"
                        src="https://storage.googleapis.com/a1aa/image/4nEokJjhM5BSY-67rsqe5y5OEcmEm9NrBYSznVlLGYE.jpg"
                        width="800" style="border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);" />
                    <div class="overlay" style="border-radius: 15px; backdrop-filter: blur(2px);">
                        <h2 style="text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">Weekend flash sale</h2>
                        <p style="text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">Save on Breaking Bad and Better Call Saul
                        </p>
                        <button>See details</button>
                    </div>
                </div>
                <div class="carousel-item carousel-item2">
                    <img alt="Entertainment apps logos" height="400"
                        src="https://storage.googleapis.com/a1aa/image/PAt2D3Ex_73tkQj2pJVZsorEX-Q-vMScs0EC3h_s1i0.jpg"
                        width="800" style="border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);" />
                    <div class="overlay" style="border-radius: 15px; backdrop-filter: blur(2px);">
                        <h2 style="text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">Best entertainment apps</h2>
                        <button>See details</button>
                    </div>
                </div>
                <div class="carousel-item carousel-item3">
                    <img alt="Microsoft Solitaire Collection: Gravity Blocks" height="400"
                        src="https://storage.googleapis.com/a1aa/image/0gpp5Rhk776fbWIxFb8YfzVZ74sWv1QbUGBTG2S6fvU.jpg"
                        width="800" style="border-radius: 15px; box-shadow: 0 4px 8px rgba(0,0,0,0.2);" />
                    <div class="overlay" style="border-radius: 15px; backdrop-filter: blur(2px);">
                        <h2>Microsoft Solitaire Collection: Gravity Blocks</h2>
                        <button>See details</button>
                    </div>
                </div>
            </div>
            <div class="carousel-nav">
                <button class="carousel-prev">&lt;</button>
                <button class="carousel-next">&gt;</button>
            </div>
        </div>
        <div class="section-title">Aplikasi yang di Buat</div>
        <div style="position: relative;">
            <div class="card-container" id="github-repos"></div>
            <div class="repo-nav">
                <button class="repo-prev">&lt;</button>
                <button class="repo-next">&gt;</button>
            </div>
        </div>
    </div>
    <script>
        // Function to fetch GitHub repos
        async function fetchGitHubRepos() {
            try {
                const response = await fetch('https://api.github.com/users/4211421036/repos');
                const repos = await response.json();
                const container = document.getElementById('github-repos');

                repos.forEach(repo => {
                    const card = document.createElement('div');
                    card.className = 'card';

                    card.innerHTML = `
            <img alt="GitHub" height="200" 
                src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" 
                width="150"/>
            <p>${repo.name}</p>
            <p class="free">${repo.language || 'No language'}</p>
            <p style="font-size: 12px">${repo.description || ''}</p>
            <a class="linkc" href="${repo.html_url}" target="_blank" 
            style="color: #2d6cdf; text-decoration: none;">View Repository</a>
            `;

                    container.appendChild(card);
                });
            } catch (error) {
                console.error('Error fetching GitHub repos:', error);
            }
        }

        // Function to handle card navigation
        function handleCardNavigation(direction) {
            const container = document.getElementById('github-repos');
            const cards = Array.from(container.children);
            if (direction === 'next') {
                container.appendChild(cards[0]);
            } else {
                container.insertBefore(cards[cards.length - 1], cards[0]);
            }
        }

        // Event listeners for navigation buttons
        document.querySelector('.repo-next').addEventListener('click', () => handleCardNavigation('next'));
        document.querySelector('.repo-prev').addEventListener('click', () => handleCardNavigation('prev'));

        // Call the function when page loads
        fetchGitHubRepos();
    </script>
    <script>
        const track = document.querySelector('.carousel-track');
        const items = Array.from(track.children);
        const nextButton = document.querySelector('.carousel-next');
        const prevButton = document.querySelector('.carousel-prev');
        let currentIndex = 0;

        // Function to update carousel position
        function updateCarousel() {
            const itemWidth = items[currentIndex].getBoundingClientRect().width;
            track.style.transform = `translateX(-${currentIndex * itemWidth}px)`;
        }

        // Function to fetch GitHub repositories
        async function fetchGitHubRepos(username) {
            const response = await fetch(`https://api.github.com/users/4211421036/repos`);
            if (!response.ok) throw new Error('Failed to fetch GitHub repositories');
            return response.json();
        }

        // Function to fetch repository image
        async function fetchRepoImage(repo) {
            const response = await fetch(`https://api.github.com/repos/${repo.full_name}/contents`);
            if (!response.ok) throw new Error('Failed to fetch repository contents');
            const contents = await response.json();
            const imageFile = contents.find(file => file.type === 'file' && /\.(jpg|jpeg|png|gif)$/i.test(file.name));
            return imageFile ? imageFile.download_url : 'https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png';
        }

        // Function to update carousel content with GitHub data
        async function updateCarouselContent() {
            try {
                const repos = await fetchGitHubRepos('4211421036'); // Replace with your GitHub username
                for (let i = 0; i < items.length; i++) {
                    if (i >= repos.length) break;
                    const repo = repos[i];
                    const imageUrl = await fetchRepoImage(repo);

                    items[i].setAttribute('data-name', repo.name);
                    items[i].setAttribute('data-description', repo.description || 'No description available');
                    items[i].setAttribute('data-url', repo.html_url);
                    items[i].setAttribute('data-image', imageUrl);

                    items[i].innerHTML = `
                        <img src="${imageUrl}" alt="${repo.name}">
                        <div class="overlay">
                            <h2>${repo.name}</h2>
                            <p>${repo.description || 'No description available'}</p>
                            <button>
                                <a class="linkp" href="${repo.html_url}" target="_blank">View Repository</a>
                            </button>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('Error fetching GitHub data:', error);
            }
        }

        // Function to swap content (circular shift)
        function swapContent(direction) {
            if (direction === 'next') {
                const firstItem = {
                    name: items[0].getAttribute('data-name'),
                    description: items[0].getAttribute('data-description'),
                    url: items[0].getAttribute('data-url'),
                    image: items[0].getAttribute('data-image')
                };
                for (let i = 0; i < items.length - 1; i++) {
                    items[i].setAttribute('data-name', items[i + 1].getAttribute('data-name'));
                    items[i].setAttribute('data-description', items[i + 1].getAttribute('data-description'));
                    items[i].setAttribute('data-url', items[i + 1].getAttribute('data-url'));
                    items[i].setAttribute('data-image', items[i + 1].getAttribute('data-image'));
                    items[i].innerHTML = items[i + 1].innerHTML;
                }
                items[items.length - 1].setAttribute('data-name', firstItem.name);
                items[items.length - 1].setAttribute('data-description', firstItem.description);
                items[items.length - 1].setAttribute('data-url', firstItem.url);
                items[items.length - 1].setAttribute('data-image', firstItem.image);
                items[items.length - 1].innerHTML = `
                    <img src="${firstItem.image}" alt="${firstItem.name}">
                    <div class="overlay">
                        <h2>${firstItem.name}</h2>
                        <p>${firstItem.description}</p>
                        <button>
                            <a class="linkp" href="${firstItem.url}" target="_blank">View Repository</a>
                        </button>
                    </div>
                `;
            } else {
                const lastItem = {
                    name: items[items.length - 1].getAttribute('data-name'),
                    description: items[items.length - 1].getAttribute('data-description'),
                    url: items[items.length - 1].getAttribute('data-url'),
                    image: items[items.length - 1].getAttribute('data-image')
                };
                for (let i = items.length - 1; i > 0; i--) {
                    items[i].setAttribute('data-name', items[i - 1].getAttribute('data-name'));
                    items[i].setAttribute('data-description', items[i - 1].getAttribute('data-description'));
                    items[i].setAttribute('data-url', items[i - 1].getAttribute('data-url'));
                    items[i].setAttribute('data-image', items[i - 1].getAttribute('data-image'));
                    items[i].innerHTML = items[i - 1].innerHTML;
                }
                items[0].setAttribute('data-name', lastItem.name);
                items[0].setAttribute('data-description', lastItem.description);
                items[0].setAttribute('data-url', lastItem.url);
                items[0].setAttribute('data-image', lastItem.image);
                items[0].innerHTML = `
                    <img src="${lastItem.image}" alt="${lastItem.name}">
                    <div class="overlay">
                        <h2>${lastItem.name}</h2>
                        <p>${lastItem.description}</p>
                        <button>
                            <a class="linkp" href="${lastItem.url}" target="_blank">View Repository</a>
                        </button>
                    </div>
                `;
            }
        }

        // Event listeners for navigation buttons
        nextButton.addEventListener('click', () => {
            swapContent('next');
        });

        prevButton.addEventListener('click', () => {
            swapContent('prev');
        });

        // Load carousel content when the page loads
        document.addEventListener('DOMContentLoaded', async () => {
            await updateCarouselContent();
            updateCarousel();
        });
        function getRandomClassName(length = 8) {
    const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';
    let result = '';
    for (let i = 0; i < length; i++) {
        result += chars.charAt(Math.floor(Math.random() * chars.length));
    }
    return result;
}

// Generate random class names for CSS
const classNames = {
    container: getRandomClassName(),
    categorySection: getRandomClassName(),
    categoryTitle: getRandomClassName(),
    categoryIcon: getRandomClassName(),
    cardsContainer: getRandomClassName(),
    card: getRandomClassName(),
    cardImage: getRandomClassName(),
    cardContent: getRandomClassName(),
    cardTitle: getRandomClassName(),
    cardDescription: getRandomClassName(),
    cardMeta: getRandomClassName(),
    cardDate: getRandomClassName(),
    seeAllLink: getRandomClassName()
};

// Inject CSS
const styleElement = document.createElement('style');
styleElement.textContent = `
    .${classNames.container} {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        padding: 20px;
        background-color: #f5f5f5;
        font-family: Arial, sans-serif;
    }
    
    .${classNames.categorySection} {
        flex: 1;
        min-width: 300px;
        background-color: #fff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        padding: 15px;
    }
    
    .${classNames.categoryTitle} {
        display: flex;
        align-items: center;
        font-size: 18px;
        font-weight: bold;
        margin-bottom: 15px;
        color: #333;
        cursor: pointer;
    }
    
    .${classNames.categoryTitle}:hover {
        color: #0066cc;
    }
    
    .${classNames.categoryIcon} {
        margin-left: 5px;
    }
    
    .${classNames.cardsContainer} {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    
    .${classNames.card} {
        display: flex;
        border-bottom: 1px solid #eee;
        padding-bottom: 15px;
        cursor: pointer;
    }
    
    .${classNames.card}:last-child {
        border-bottom: none;
    }
    
    .${classNames.cardImage} {
        width: 80px;
        height: 80px;
        border-radius: 6px;
        object-fit: cover;
        margin-right: 15px;
    }
    
    .${classNames.cardContent} {
        flex: 1;
    }
    
    .${classNames.cardTitle} {
        font-weight: bold;
        margin-bottom: 5px;
        color: #333;
    }
    
    .${classNames.cardDescription} {
        font-size: 14px;
        color: #666;
        margin-bottom: 8px;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    
    .${classNames.cardMeta} {
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        color: #888;
    }
`;
document.head.appendChild(styleElement);

// Main categories for repositories
const categories = [
    { 
        id: 'python', 
        name: 'Python', 
        icon: '❯' 
    },
    { 
        id: 'mobile', 
        name: 'Mobile', 
        icon: '❯' 
    },
    { 
        id: 'gadget', 
        name: 'Gadget', 
        icon: '❯' 
    }
];

// Function to fetch GitHub repositories
async function fetchGitHubRepos(username) {
    const response = await fetch(`https://api.github.com/users/${username}/repos`);
    if (!response.ok) throw new Error('Failed to fetch GitHub repositories');
    return response.json();
}

// Function to categorize repositories based on topics or names
function categorizeRepositories(repos) {
    const categorized = {
        python: [],
        mobile: [],
        gadget: []
    };
    
    repos.forEach(repo => {
        // Simple categorization logic based on repository name/description
        // This can be improved based on actual repository data
        const name = repo.name.toLowerCase();
        const description = repo.description?.toLowerCase() || '';
        
        if (name.includes('python') || description.includes('python') || name.includes('py') || description.includes('django') || description.includes('flask')) {
            categorized.python.push(repo);
        } else if (name.includes('mobile') || name.includes('android') || name.includes('ios') || name.includes('app') || description.includes('mobile') || description.includes('app')) {
            categorized.mobile.push(repo);
        } else if (name.includes('gadget') || name.includes('device') || name.includes('hardware') || description.includes('gadget') || description.includes('device')) {
            categorized.gadget.push(repo);
        } else {
            // If no clear category, add to a default one
            // For demo, we'll add uncategorized repos to python
            categorized.python.push(repo);
        }
    });
    
    return categorized;
}

// Format date to relative time (e.g., "2 days ago")
function formatRelativeTime(dateString) {
    const date = new Date(dateString);
    const now = new Date();
    const diffMs = now - date;
    const diffSeconds = Math.floor(diffMs / 1000);
    const diffMinutes = Math.floor(diffSeconds / 60);
    const diffHours = Math.floor(diffMinutes / 60);
    const diffDays = Math.floor(diffHours / 24);
    
    if (diffDays > 0) {
        return `${diffDays} hari lalu`;
    } else if (diffHours > 0) {
        return `${diffHours} jam lalu`;
    } else if (diffMinutes > 0) {
        return `${diffMinutes} menit lalu`;
    } else {
        return 'baru saja';
    }
}

// Function to create the UI based on categorized repositories
function createRepoCards(categorizedRepos) {
    // Create container
    const container = document.createElement('div');
    container.className = classNames.container;
    
    // Create sections for each category
    categories.forEach(category => {
        const repos = categorizedRepos[category.id];
        if (!repos || repos.length === 0) return;
        
        // Create category section
        const section = document.createElement('div');
        section.className = classNames.categorySection;
        
        // Create category title
        const titleContainer = document.createElement('div');
        titleContainer.className = classNames.categoryTitle;
        titleContainer.textContent = category.name + ' ';
        
        const icon = document.createElement('span');
        icon.className = classNames.categoryIcon;
        icon.textContent = category.icon;
        titleContainer.appendChild(icon);
        
        titleContainer.addEventListener('click', () => {
            // Handle "See All" functionality for this category
            alert(`Show all ${category.name} repositories`);
            // Here you would implement navigation to a page showing all repos in this category
        });
        
        section.appendChild(titleContainer);
        
        // Create cards container
        const cardsContainer = document.createElement('div');
        cardsContainer.className = classNames.cardsContainer;
        
        // Take first 3 repositories for this category
        repos.slice(0, 3).forEach(repo => {
            // Create card
            const card = document.createElement('div');
            card.className = classNames.card;
            
            // Create card image
            const image = document.createElement('img');
            image.className = classNames.cardImage;
            image.src = repo.owner.avatar_url; // Use owner avatar as default image
            image.alt = repo.name;
            
            // Create card content
            const content = document.createElement('div');
            content.className = classNames.cardContent;
            
            // Create card title
            const title = document.createElement('div');
            title.className = classNames.cardTitle;
            title.textContent = repo.name;
            
            // Create card description
            const description = document.createElement('div');
            description.className = classNames.cardDescription;
            description.textContent = repo.description || `A ${category.name} repository`;
            
            // Create card meta info
            const meta = document.createElement('div');
            meta.className = classNames.cardMeta;
            
            const date = document.createElement('div');
            date.className = classNames.cardDate;
            date.textContent = formatRelativeTime(repo.created_at);
            
            meta.appendChild(date);
            
            // Append elements
            content.appendChild(title);
            content.appendChild(description);
            content.appendChild(meta);
            
            card.appendChild(image);
            card.appendChild(content);
            
            // Add click event to navigate to the repository
            card.addEventListener('click', () => {
                window.open(repo.html_url, '_blank');
            });
            
            cardsContainer.appendChild(card);
        });
        
        section.appendChild(cardsContainer);
        container.appendChild(section);
    });
    
    return container;
}

// Initialize the UI
async function initializeUI(username) {
    try {
        // Get the existing carousel elements
        const carouselContainer = document.querySelector('.carousel-track').parentElement;
        
        // Fetch repositories
        const repos = await fetchGitHubRepos(username);
        
        // Categorize repositories
        const categorizedRepos = categorizeRepositories(repos);
        
        // Create UI
        const repoCardsContainer = createRepoCards(categorizedRepos);
        
        // Insert the new UI after the carousel
        if (carouselContainer.nextElementSibling) {
            carouselContainer.parentElement.insertBefore(repoCardsContainer, carouselContainer.nextElementSibling);
        } else {
            carouselContainer.parentElement.appendChild(repoCardsContainer);
        }
        
    } catch (error) {
        console.error('Error initializing repository cards:', error);
    }
}

// Initialize when the document is loaded
document.addEventListener('DOMContentLoaded', () => {
    // Use the same GitHub username from the carousel code
    initializeUI('4211421036');
});

// Integrate with existing carousel functionality
const existingTrack = document.querySelector('.carousel-track');
const existingItems = Array.from(existingTrack.children);
const existingNextButton = document.querySelector('.carousel-next');
const existingPrevButton = document.querySelector('.carousel-prev');
let existingCurrentIndex = 0;
    </script>
     <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw.js')
                    .then(registration => {
                        console.log('Service Worker registered with scope: ', registration.scope);
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>

</html>
