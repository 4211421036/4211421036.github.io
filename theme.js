function applyTheme() { window.matchMedia("(prefers-color-scheme: dark)").matches ? (document.body.classList.add("dark-theme"), document.body.classList.remove("light-theme")) : (document.body.classList.add("light-theme"), document.body.classList.remove("dark-theme")) } function adjustTextColor() { let e = window.getComputedStyle(document.body).backgroundColor.match(/\d+/g); Math.round((299 * parseInt(e[0]) + 587 * parseInt(e[1]) + 114 * parseInt(e[2])) / 1e3) > 125 ? document.body.style.color = "#000000" : document.body.style.color = "#ffffff" } document.addEventListener("DOMContentLoaded", () => { applyTheme(), adjustTextColor() }), window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", applyTheme);
