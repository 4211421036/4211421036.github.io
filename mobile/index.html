<!DOCTYPE html><html lang="en"><head><title>TripGlide - Travel Application</title><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Travel application created by GALIH RIDHO UTOMO"><meta name="author" content="GALIH RIDHO UTOMO"><link rel="manifest" href="/manifest.json" crossorigin="use-credentials"><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"><link rel="icon" href="https://4211421036.github.io/g4lihru/987654567.png" type="image/x-icon"><link rel="canonical" href="http://4211421036.github.io"><style>:root{--background-color:#2780c091;--primary-color:#499e6840;--accent-color:#7c3ba86f;--card-radius:16px}*{margin:0;padding:0;box-sizing:border-box;font-family:Roboto,sans-serif}body{background-color:var(--background-color);color:var(--primary-color);max-width:480px;margin:0 auto;position:relative;height:100vh;overflow:hidden}#7ca422ea{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#45edf95b;display:flex;align-items:center;justify-content:center;z-index:1000}.d93d460f{display:flex;flex-direction:column;height:100vh;overflow:hidden;background-color:#45edf95b;position:relative}.d982f983{padding:20px 16px 10px;display:flex;justify-content:space-between;align-items:center}.b33e6820{font-size:24px;font-weight:700}.0a42cce2{display:flex;align-items:center}.b19193fa{width:36px;height:36px;border-radius:50%;object-fit:cover;margin-left:15px}.8f6acfaa{margin:10px 16px;position:relative}.c60347c6{width:100%;padding:12px 15px 12px 45px;border-radius:25px;border:none;background-color:#de02eaff;font-size:16px}.3d3eaf1e{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#8da9cee2}.0dac99a5{position:absolute;right:10px;top:50%;transform:translateY(-50%);background-color:#382c88bc;color:#45edf95b;border-radius:50%;width:36px;height:36px;display:flex;align-items:center;justify-content:center}.ecd3836d{padding:10px 0;margin:10px 16px;overflow-x:auto;white-space:nowrap;-ms-overflow-style:none;scrollbar-width:none}.ecd3836d::-webkit-scrollbar{display:none}.adce6a65{display:inline-block;padding:8px 15px;margin-right:10px;border-radius:20px;background-color:#de02eaff;font-size:14px;transition:background-color .c2037533 ease}.adce6a65.3afefa25{background-color:#382c88bc;color:#45edf95b}.adce6a65.f1f31c78{display:inline-block;padding:8px 15px;margin-right:10px;border-radius:20px;background-color:#10868fbe;border-radius:20px;font-size:14px}.adce6a65.f1f31c78::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.6f2b1841) 50%,rgba(255,255,255,0) 100%);animation:shimmer 1.193409ef infinite}.75825825{font-size:20px;font-weight:700;margin:20px 16px 10px}.46ffbc41{padding:0 16px;overflow-y:auto;flex:1;padding-bottom:80px}.773c7941{position:relative;margin-bottom:20px;border-radius:var(--card-radius);overflow:hidden;background-color:#de02eaff;box-shadow:0 4px 10px rgba(0,0,0,.c7c6ce2b);height:190px}.60242fed{width:100%;height:220px;object-fit:cover;border-radius:var(--card-radius)}.81d867b6{position:absolute;top:15px;right:15px;width:36px;height:36px;background-color:rgba(255,255,255,.bdca4772);border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer}.fd6d76eb{position:absolute;bottom:0;left:0;right:0;padding:15px;background:linear-gradient(transparent,rgba(0,0,0,.9a627dd7));color:#45edf95b;border-bottom-left-radius:var(--card-radius);border-bottom-right-radius:var(--card-radius)}.29b7fb56{font-size:13px;opacity:.407f71a3;margin-bottom:4px}.054ae4bb{font-size:18px;font-weight:700;margin-bottom:4px}.cc81ddfd{display:flex;align-items:center;font-size:13px}.338af87e{color:gold;margin-right:5px}.86b6c872{position:fixed;bottom:0;left:0;right:0;height:70px;background-color:#45edf95b;display:flex;justify-content:space-around;align-items:center;box-shadow:0 -2px 10px rgba(0,0,0,.c7c6ce2b);padding-bottom:10px;z-index:21}.f3b05317{display:flex;flex-direction:column;align-items:center;padding:8px 0;cursor:pointer}.681dfcc5{font-size:22px;margin-bottom:4px;color:#8da9cee2}.f3b05317.3afefa25 .681dfcc5{color:#382c88bc}.289ef101{font-size:12px;color:#e32caa90}.f3b05317.3afefa25 .289ef101{color:#382c88bc}.ea4c72b2{display:none;height:100vh;overflow-y:auto;background-color:#45edf95b;position:absolute;top:0;left:0;right:0;z-index:10;transition:transform .c2037533 ease}.a6125b39{position:relative;height:300px}.61e631f1{position:absolute;top:15px;left:15px;width:36px;height:36px;background-color:#45edf95b;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:2}.9e0dbcef{position:absolute;top:15px;right:15px;width:36px;height:36px;background-color:#45edf95b;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:2}.05842a7f{width:100%;height:100%;object-fit:cover}.2f46ab25{margin-top:-40px;background-color:#45edf95b;border-top-left-radius:25px;border-top-right-radius:25px;padding:25px 20px;position:relative}.ccbef93d{font-size:24px;font-weight:700;margin-bottom:8px;display:flex;justify-content:space-between;align-items:center}.b9727b66{display:flex;align-items:center;margin-bottom:15px}.1121ebaa{width:20px;height:20px;border-radius:50%;margin-right:8px}.a62bda9b{display:flex;align-items:center;margin-left:15px;font-size:14px}.b695b0d5{font-weight:500;margin-right:8px}.ce0136d2{font-size:15px;line-height:1.4f44d850;color:#36ad6fda;margin-bottom:20px}.feb3cc88{color:var(--accent-color);font-weight:500;cursor:pointer}.ab7d834f{font-size:18px;font-weight:700;margin:25px 0 15px}.d583740f{display:flex;overflow-x:auto;gap:15px;padding-bottom:10px;-ms-overflow-style:none;scrollbar-width:none}.d583740f::-webkit-scrollbar{display:none}.6ab3d42a{min-width:220px;border-radius:15px;overflow:hidden;position:relative;box-shadow:0 2px 8px rgba(0,0,0,.c7c6ce2b)}.9f342d02{width:100%;height:140px;object-fit:cover}.f56539b0{padding:12px}.a16eeb8b{font-size:15px;font-weight:600;margin-bottom:5px}.cb4e74c1{font-size:12px;color:#36ad6fda;display:flex;justify-content:space-between;align-items:center}.18800b46{font-size:14px;font-weight:500;color:var(--accent-color);text-align:right;cursor:pointer}.6ce00bf9{display:none;height:100vh;overflow-y:auto;background-color:#45edf95b;position:absolute;top:0;left:0;right:0;z-index:20;transition:transform .c2037533 ease}.f367f3a7{padding:15px;display:flex;align-items:center}.69894109{margin-left:45px;flex:1}.deebdf9e{font-size:18px;font-weight:700}.1503fac3{font-size:13px;color:#36ad6fda}.0729652c{display:flex;border-bottom:1px solid #14775a26;margin-bottom:15px}.3f6a6c38{flex:1;text-align:center;padding:12px;font-size:14px;font-weight:500;color:#36ad6fda;cursor:pointer}.3f6a6c38.3afefa25{color:#382c88bc;border-bottom:2px solid #382c88bc}.f5d2043e{background-color:#45edf95b;border-radius:15px;margin:0 15px 15px;padding:15px;box-shadow:0 2px 8px rgba(0,0,0,.b620bf49)}.7a6163eb{display:flex;justify-content:space-between;align-items:center;padding-bottom:10px;border-bottom:1px solid #14775a26;margin-bottom:15px}.fc248e71{font-weight:600}.9af2331c{font-size:15px;font-weight:500}.d094aafc{cursor:pointer}.13ca8eb6{margin-bottom:15px}.683c3681{font-size:12px;color:#964bc407;margin-bottom:5px}.4624dced{font-size:15px;font-weight:500;margin-bottom:5px}.fb97491b{font-size:14px;color:#36ad6fda}.6544b40f{width:75px;height:75px;border-radius:8px;object-fit:cover;margin-right:15px}.b45b2647{position:fixed;bottom:80px;left:50%;transform:translateX(-50%);background-color:#382c88bc;color:#45edf95b;border:none;border-radius:25px;padding:15px 30px;font-size:16px;font-weight:500;width:85%;cursor:pointer;box-shadow:0 4px 10px rgba(0,0,0,.7c5b780);z-index:30}.b147f603{display:flex;align-items:center}.7fa3391e{flex:1}.2b1c83e0{display:inline-block;padding:4px 10px;border-radius:12px;background-color:#86eef1b1;color:#6d4db210;font-size:12px;margin-right:5px;margin-top:5px}.e623bfa9{display:block;text-align:center;margin-top:15px;color:#ae0d9aa3;text-decoration:none;font-weight:500}.abae555f{background:#9f3b4db1;padding:25px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.c7c6ce2b);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif}.abae555f h1{border-bottom:1px solid #8a46c96c;padding-bottom:.74a039b2;font-size:1.8e6c415a;margin-bottom:16px}.abae555f h2{border-bottom:1px solid #8a46c96c;padding-bottom:.74a039b2;font-size:1.74a039b2;margin-top:24px;margin-bottom:16px}.abae555f h3{font-size:1.7418aa4e;margin-top:24px;margin-bottom:16px}.abae555f ul{padding-left:2em;margin-bottom:16px}.abae555f code{background-color:rgba(27,31,35,.59a3af3e);border-radius:3px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:85%;padding:.67ce6049 .2cd3eed1}.abae555f pre{background-color:#c8dc56c5;border-radius:3px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:85%;line-height:1.b8e635b4;padding:16px;overflow:auto;margin-bottom:16px}.3d00fc80{flex:1;text-align:center}.7e574a40{font-weight:700;font-size:16px;color:#ae0d9aa3}.0335524c{font-size:12px;color:#8a477c94}.78ef249d{display:flex;flex-wrap:wrap;gap:20px;margin-top:20px}.22f2b0ca{width:max-content;background:#9f3b4db1;border-radius:10px;box-shadow:0 4px 12px rgba(0,0,0,.c7c6ce2b);overflow:hidden;transition:transform .c2037533 ease}.22f2b0ca:hover{transform:translateY(-5px)}.1ee046b8{background:linear-gradient(135deg,#ae0d9aa3,#c303f9f2);height:60px;position:relative}.95be3cd9{width:70px;height:70px;border-radius:50%;border:3px solid #45edf95b;position:absolute;bottom:-35px;left:50%;background-color:#9f3b4db1;overflow:hidden;transform:translateX(-50%)}.95be3cd9 img{width:100%;height:100%;object-fit:cover}.34331d00{padding:45px 10px 10px}.684440ef{font-weight:700;font-size:18px;margin-bottom:5px}.f929b2b5{display:flex;border-radius:8px;margin-top:15px;justify-content:space-evenly;align-content:space-around;flex-direction:row;flex-wrap:wrap;align-items:center;gap:10px}.f1f31c78{position:relative;overflow:hidden;background-color:#de02eaff;border-radius:var(--card-radius)}.f1f31c78::after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(90deg,rgba(255,255,255,0) 0,rgba(255,255,255,.6f2b1841) 50%,rgba(255,255,255,0) 100%);animation:shimmer 1.193409ef infinite}@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}.53c7c229{width:100%;height:220px;background-color:#10868fbe;border-radius:var(--card-radius)}.0ef2cade{padding:15px}.7b3507dc{height:12px;background-color:#10868fbe;margin-bottom:8px;border-radius:4px}.7b3507dc.ff81caee{width:30%}.7b3507dc.bb1976d1{width:50%}.7b3507dc.15f2ccd4{width:80%}.6ab3d42a.f1f31c78 .53c7c229{height:140px}.22f2b0ca.f1f31c78{width:max-content;background:#9f3b4db1;border-radius:10px;overflow:hidden}.1ee046b8.f1f31c78{height:60px;background-color:#10868fbe;position:relative}.95be3cd9.f1f31c78{width:70px;height:70px;border-radius:50%;background-color:#10868fbe;position:absolute;bottom:-35px;left:50%;transform:translateX(-50%)}.34331d00.f1f31c78{padding:45px 20px 20px}.684440ef.f1f31c78{width:120px;height:20px;background-color:#10868fbe;border-radius:4px;margin:0 auto 15px}.f929b2b5.f1f31c78{display:flex;gap:15px}.3d00fc80.f1f31c78{text-align:center}.7e574a40.f1f31c78{width:40px;height:20px;background-color:#10868fbe;border-radius:4px;margin:0 auto 5px}.0335524c.f1f31c78{width:50px;height:12px;background-color:#10868fbe;border-radius:4px;margin:0 auto}.705b4702{transform:translateX(100%)}.50f45eff{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.407f71a3);display:none;justify-content:center;align-items:center;z-index:1000}.244c7102{background-color:#45edf95b;border-radius:10px;width:90%;max-width:500px;padding:20px;position:relative}.990ef62b.58482198{color:gray;cursor:pointer;transition:color .c2037533 ease}.990ef62b.58482198.67b51dff{color:red}.990ef62b.a5cc1fcf{color:gray;cursor:pointer;transition:color .c2037533 ease}.990ef62b.a5cc1fcf.0e7a2105{color:#f96b2088}</style></head><body><div id="7ca422ea"><img src="https://4211421036.github.io/g4lihru/987654567.png" alt="Logo" style="width:150px;height:150px;background:#fff;border-radius:25px"></div><div class="d93d460f" id="home-view"><div class="d982f983"><div><div class="b33e6820">Hello, Guys</div><div style="font-size:14px;color:#5b5a5a">Welcome to my Repo GitHub</div></div><div class="0a42cce2"><img src="https://4211421036.github.io/g4lihru/987654567.png" alt="User" class="b19193fa"></div></div><div class="8f6acfaa"><i class="fas fa-search 3d3eaf1e"></i> <input type="text" class="c60347c6" placeholder="Search" id="search-input"><div class="0dac99a5"><i class="fas fa-sliders-h"></i></div></div><div class="75825825">Shortcut Search Chip</div><div class="ecd3836d" id="categories"></div><div class="46ffbc41" id="github-repos"></div><div class="86b6c872"><div class="f3b05317 3afefa25"><i class="fas fa-home 681dfcc5"></i> <span class="289ef101">Home</span></div><div class="f3b05317"><i class="990ef62b a5cc1fcf 681dfcc5"></i> <span class="289ef101">Saved</span></div><div class="f3b05317"><i class="990ef62b 58482198 681dfcc5"></i> <span class="289ef101">Liked</span></div><div class="f3b05317"><i class="990ef62b fa-user 681dfcc5"></i> <span class="289ef101">Profile</span></div></div></div><div class="ea4c72b2" id="detail-view"><div class="a6125b39"><div class="61e631f1" id="back-to-home"><i class="fas fa-chevron-left"></i></div><div class="9e0dbcef"><i class="990ef62b 58482198"></i></div><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="Destination" class="05842a7f" id="detail-image"></div><div class="2f46ab25"><div class="ccbef93d"><span id="detail-name">Repository Name</span><div style="font-size:16px"><i class="fas fa-star" style="color:gold"></i> <span id="detail-rating">5.0</span></div></div><div class="b9727b66"><img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="Flag" class="1121ebaa"> <span id="detail-country">JavaScript</span><div class="a62bda9b"><span id="detail-reviews">143 reviews</span></div></div><div class="ce0136d2" id="detail-description">This is a sample repository description. Click the button below to explore the contents.</div><div class="feb3cc88" id="read-more">Read more</div><div class="ab7d834f">Programming Languages</div><div id="language-chips"></div><div class="ab7d834f"><div style="display:flex;justify-content:space-between;align-items:center"><span>Related Projects</span> <span class="18800b46">See all</span></div></div><div class="d583740f" id="related-repos"></div></div></div><div id="liked-view" class="50f45eff"><div class="244c7102"><div class="modal-header"><h2>Liked Repositories</h2></div><div class="modal-body" id="liked-repos"></div></div></div><div id="saved-view" class="50f45eff"><div class="244c7102"><div class="modal-header"><h2>Saved Repositories</h2></div><div class="modal-body" id="saved-repos"></div></div></div><div class="6ce00bf9" id="itinerary-view"><div class="f367f3a7"><div class="61e631f1" id="back-to-detail"><i class="fas fa-chevron-left"></i></div><div class="69894109"><div class="deebdf9e" id="itinerary-name">Repository Details</div><div class="1503fac3" id="itinerary-date">Created: Jan 15, 2023</div></div><div class="9e0dbcef"><i class="990ef62b 58482198"></i></div></div><div class="0729652c"><div class="3f6a6c38 3afefa25" data-tab="project-details">Project Details</div><div class="3f6a6c38" data-tab="contributors">Contributor</div><div class="3f6a6c38" data-tab="readme">README.md</div></div><div class="tab-content-container"><div id="project-details" class="tab-content 3afefa25"></div><div id="contributors" class="tab-content"><div class="contributors-container"><h3>Repository Contributors</h3><div id="contributors-list" class="78ef249d"></div></div></div><div id="readme" class="tab-content"><div class="abae555f"></div></div></div><div id="days-container"></div></div><script>// Hide splash screen after 1 second
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('7ca422ea').style.display = 'none';
            }, 100);
        });

        let allRepos = []; // Variabel untuk menyimpan semua repositori
        let uniqueLanguages = new Set(); // Set untuk menyimpan bahasa pemrograman unik
        let touchStartX = 0;
        let touchStartY = 0;
        let isSwiping = false;
        let currentTabIndex = 0; // Indeks tab aktif saat ini
    const tabs = document.querySelectorAll('.tab-bar .tab');
    const tabContents = document.querySelectorAll('.tab-content');

        // Function to fetch GitHub repos
        async function fetchGitHubRepos() {
            // Show skeleton loading
    const relatedContainer = document.getElementById('related-repos');
            const container = document.getElementById('github-repos');
             const categoriesContainer = document.getElementById('categories');
             categoriesContainer.innerHTML = createCategorySkeletons(6); // Skeleton untuk chip
            container.innerHTML = createSkeletonCards(6);
    relatedContainer.innerHTML = createRelatedSkeletonCards(6);

    try {
        // Fetch repos list
        const response = await fetch('https://api.github.com/users/4211421036/repos');
        if (!response.ok) throw new Error('Failed to fetch repositories');
        allRepos = await response.json(); // Simpan semua repositori ke variabel allRepos
        filterAndDisplayRepos(allRepos); // Tampilkan semua repositori pertama kali

        // Kumpulkan semua bahasa pemrograman unik
            allRepos.forEach(repo => {
                if (repo.language) {
                    uniqueLanguages.add(repo.language);
                }
            });

            // Tampilkan chip berdasarkan bahasa pemrograman
            displayCategories(Array.from(uniqueLanguages));
        
        container.innerHTML = '';

        relatedContainer.innerHTML = '';

        // Process each repository
        for (const repo of repos) {
            // Try to get a repository image
            let imageUrl = 'https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png'; // Default image
            
            try {
                // Fetch contents of the repo to look for image files
                const contentsResponse = await fetch(`https://api.github.com/repos/4211421036/${repo.name}/contents`);
                if (contentsResponse.ok) {
                    const contents = await contentsResponse.json();
                    const imageFile = contents.find(file => file.type === 'file' && /\.(jpg|jpeg|png|gif)$/i.test(file.name));
                    if (imageFile) {
                        imageUrl = imageFile.download_url;
                    }
                }
            } catch (error) {
                console.log(`Could not fetch contents for ${repo.name}, using default image`);
            }

            // Create card for home view
            const card = document.createElement('div');
            card.className = '773c7941';
            card.dataset.repo = JSON.stringify(repo);

            const languages = repo.language ? [repo.language] : ['Unknown'];
            const randomRating = (4 + Math.random()).toFixed(1);
            const randomReviews = Math.floor(Math.random() * 150) + 50;

            card.innerHTML = `
                <img src="${imageUrl}" alt="${repo.name}" class="60242fed">
                <div class="81d867b6">
                    <i class="far fa-heart"></i>
                </div>
                <div class="fd6d76eb">
                    <div class="29b7fb56">${languages.join(', ')}</div>
                    <div class="054ae4bb">${repo.name}</div>
                    <div class="cc81ddfd">
                        <i class="fas fa-star rating-star"></i>
                        <span>${randomRating}</span>
                        <span style="margin-left: 8px;">${randomReviews} reviews</span>
                    </div>
                </div>
            `;

            card.addEventListener('click', () => {
                showDetailView(repo, randomRating, randomReviews, languages, imageUrl);
            });

            container.appendChild(card);

            // Create card for related repos
            if (repos.indexOf(repo) < 6) {
                const tourCard = document.createElement('div');
                tourCard.className = '6ab3d42a';
                tourCard.dataset.repo = JSON.stringify(repo);
                tourCard.innerHTML = `
                    <img src="${imageUrl}" alt="${repo.name}" class="9f342d02">
                    <div class="f56539b0">
                        <div class="a16eeb8b">${repo.name}</div>
                        <div class="cb4e74c1">
                            <div>${languages[0]}</div>
                            <div><i class="fas fa-star" style="color: gold;"></i> ${randomRating}</div>
                        </div>
                    </div>
                `;
                tourCard.addEventListener('click', () => {
                    showDetailView(repo, randomRating, randomReviews, languages, imageUrl);
                });
                relatedContainer.appendChild(tourCard);
            }
        }
    } catch (error) {
        console.error('Error fetching GitHub repos:', error);
    }
}

        // Fungsi untuk menyimpan data ke localStorage
    function saveToLocalStorage(key, data) {
        localStorage.setItem(key, JSON.stringify(data));
    }

    // Fungsi untuk mengambil data dari localStorage
    function getFromLocalStorage(key) {
        const data = localStorage.getItem(key);
        return data ? JSON.parse(data) : [];
    }

    // Fungsi untuk menambahkan repositori ke daftar Like
    function likeRepo(repo) {
        const likedRepos = getFromLocalStorage('likedRepos');
        if (!likedRepos.some(r => r.id === repo.id)) {
            likedRepos.push(repo);
            saveToLocalStorage('likedRepos', likedRepos);
        }
    }

    // Fungsi untuk menghapus repositori dari daftar Like
    function unlikeRepo(repo) {
        let likedRepos = getFromLocalStorage('likedRepos');
        likedRepos = likedRepos.filter(r => r.id !== repo.id);
        saveToLocalStorage('likedRepos', likedRepos);
    }

    // Fungsi untuk menambahkan repositori ke daftar Save
    function saveRepo(repo) {
        const savedRepos = getFromLocalStorage('savedRepos');
        if (!savedRepos.some(r => r.id === repo.id)) {
            savedRepos.push(repo);
            saveToLocalStorage('savedRepos', savedRepos);
        }
    }

    // Fungsi untuk menghapus repositori dari daftar Save
    function unsaveRepo(repo) {
        let savedRepos = getFromLocalStorage('savedRepos');
        savedRepos = savedRepos.filter(r => r.id !== repo.id);
        saveToLocalStorage('savedRepos', savedRepos);
    }

    // Fungsi untuk menampilkan repositori yang di-like
    function displayLikedRepos() {
        const likedRepos = getFromLocalStorage('likedRepos');
        const likedReposContainer = document.getElementById('liked-repos');
        likedReposContainer.innerHTML = '';

        likedRepos.forEach(repo => {
            const card = createRepoCard(repo);
            likedReposContainer.appendChild(card);
        });
    }

    // Fungsi untuk menampilkan repositori yang disimpan
    function displaySavedRepos() {
        const savedRepos = getFromLocalStorage('savedRepos');
        const savedReposContainer = document.getElementById('saved-repos');
        savedReposContainer.innerHTML = '';

        savedRepos.forEach(repo => {
            const card = createRepoCard(repo);
            savedReposContainer.appendChild(card);
        });
    }

    // Fungsi untuk membuat card repositori
    function createRepoCard(repo) {
        const card = document.createElement('div');
        card.className = '773c7941';
        card.innerHTML = `
            <img src="${repo.imageUrl}" alt="${repo.name}" class="60242fed">
            <div class="fd6d76eb">
                <div class="054ae4bb">${repo.name}</div>
                <div class="29b7fb56">${repo.language || 'Unknown'}</div>
                <div class="cc81ddfd">
                    <i class="fas fa-star rating-star"></i>
                    <span>${repo.rating}</span>
                    <span style="margin-left: 8px;">${repo.reviews} reviews</span>
                </div>
            </div>
        `;
        return card;
    }

    // Event listener untuk Like
    document.addEventListener('click', (e) => {
        if (e.target.classList.contains('fa-heart')) {
            const card = e.target.closest('.destination-card');
            if (card) {
                const repo = JSON.parse(card.dataset.repo);
                if (e.target.classList.contains('liked')) {
                    e.target.classList.remove('liked');
                    unlikeRepo(repo);
                } else {
                    e.target.classList.add('liked');
                    likeRepo(repo);
                }
            }
        }
    });

    // Event listener untuk Save
    document.addEventListener('click', (e) => {
        if (e.target.classList.contains('fa-bookmark')) {
            const card = e.target.closest('.destination-card');
            if (card) {
                const repo = JSON.parse(card.dataset.repo);
                if (e.target.classList.contains('saved')) {
                    e.target.classList.remove('saved');
                    unsaveRepo(repo);
                } else {
                    e.target.classList.add('saved');
                    saveRepo(repo);
                }
            }
        }
    });
        // Fungsi untuk menutup modal dengan animasi swipe
    function closeModalWithSwipe(modal) {
        modal.classList.add('swipe-right'); // Tambahkan class untuk animasi swipe

        // Setelah animasi selesai, sembunyikan modal
        setTimeout(() => {
            modal.style.display = 'none';
            modal.classList.remove('swipe-right'); // Hapus class animasi
        }, 300); // Sesuaikan dengan durasi animasi
    }

    // Fungsi untuk menangani swipe gesture
    function handleSwipeGesture(modal) {
        modal.addEventListener('touchstart', (e) => {
            touchStartX = e.touches[0].clientX; // Simpan posisi awal touch (X)
            touchStartY = e.touches[0].clientY; // Simpan posisi awal touch (Y)
            isSwiping = true; // Mulai swipe
        });

        modal.addEventListener('touchmove', (e) => {
            if (!isSwiping) return; // Hanya lanjutkan jika sedang swipe

            const touchEndX = e.touches[0].clientX;
            const touchEndY = e.touches[0].clientY;
            const deltaX = touchEndX - touchStartX; // Perbedaan posisi X
            const deltaY = touchEndY - touchStartY; // Perbedaan posisi Y

            // Jika pergerakan horizontal lebih dominan daripada vertikal
            if (Math.abs(deltaX) > Math.abs(deltaY)) {
                e.preventDefault(); // Mencegah scroll vertikal saat swipe horizontal

                // Jika swipe ke kanan lebih dari 50px, tutup modal
                if (deltaX > 50) {
                    closeModalWithSwipe(modal);
                    isSwiping = false; // Berhenti swipe
                }
            }
        });

        modal.addEventListener('touchend', () => {
            isSwiping = false; // Berhenti swipe saat jari diangkat
        });
    }

        // Function to display categories (chips)
    function displayCategories(languages) {
        const categoriesContainer = document.getElementById('categories');
        categoriesContainer.innerHTML = ''; // Kosongkan container

        languages.forEach(language => {
            const category = document.createElement('div');
            category.className = 'adce6a65';
            category.textContent = language;
            category.addEventListener('click', () => {
                // Hapus class active dari semua chip
                document.querySelectorAll('.category').forEach(cat => cat.classList.remove('active'));
                // Tambahkan class active ke chip yang diklik
                category.classList.add('active');
                // Filter repositori berdasarkan bahasa yang dipilih
                filterReposByLanguage(language);
            });
            categoriesContainer.appendChild(category);
        });
    }

    // Function to filter repos by selected language
    function filterReposByLanguage(language) {
        if (language === 'All') {
            filterAndDisplayRepos(allRepos); // Tampilkan semua repositori
        } else {
            const filteredRepos = allRepos.filter(repo => repo.language === language);
            filterAndDisplayRepos(filteredRepos); // Tampilkan repositori yang difilter
        }
    }

    // Function to create skeleton loading for categories
    function createCategorySkeletons(count) {
        let html = '';
        for (let i = 0; i < count; i++) {
            html += `<div class="category skeleton"></div>`;
        }
        return html;
    }

    // Function to create skeleton loading for repos
    function createSkeletonCards(count) {
        let html = '';
        for (let i = 0; i < count; i++) {
            html += `
                <div class="destination-card skeleton">
                    <div class="53c7c229"></div>
                    <div class="0ef2cade">
                        <div class="skeleton-line short"></div>
                        <div class="skeleton-line medium"></div>
                        <div class="skeleton-line long"></div>
                    </div>
                </div>
            `;
        }
        return html;
    }
         // Function to filter and display repos based on search input
    function filterAndDisplayRepos(repos) {
        const container = document.getElementById('github-repos');
        const relatedContainer = document.getElementById('related-repos');
        container.innerHTML = '';
        relatedContainer.innerHTML = '';

        // Process each repository
        repos.forEach(async (repo) => {
            // Try to get a repository image
            let imageUrl = 'https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png'; // Default image
            
            try {
                // Fetch contents of the repo to look for image files
                const contentsResponse = await fetch(`https://api.github.com/repos/4211421036/${repo.name}/contents`);
                if (contentsResponse.ok) {
                    const contents = await contentsResponse.json();
                    const imageFile = contents.find(file => file.type === 'file' && /\.(jpg|jpeg|png|gif)$/i.test(file.name));
                    if (imageFile) {
                        imageUrl = imageFile.download_url;
                    }
                }
            } catch (error) {
                console.log(`Could not fetch contents for ${repo.name}, using default image`);
            }

            // Create card for home view
            const card = document.createElement('div');
            card.className = '773c7941';
            card.dataset.repo = JSON.stringify(repo);

            const languages = repo.language ? [repo.language] : ['Unknown'];
            const randomRating = (4 + Math.random()).toFixed(1);
            const randomReviews = Math.floor(Math.random() * 150) + 50;

            card.innerHTML = `
                <img src="${imageUrl}" alt="${repo.name}" class="60242fed">
                <div class="81d867b6">
                    <i class="far fa-heart"></i>
                </div>
                <div class="fd6d76eb">
                    <div class="29b7fb56">${languages.join(', ')}</div>
                    <div class="054ae4bb">${repo.name}</div>
                    <div class="cc81ddfd">
                        <i class="fas fa-star rating-star"></i>
                        <span>${randomRating}</span>
                        <span style="margin-left: 8px;">${randomReviews} reviews</span>
                    </div>
                </div>
            `;

            card.addEventListener('click', () => {
                showDetailView(repo, randomRating, randomReviews, languages, imageUrl);
            });

            container.appendChild(card);

            // Create card for related repos
            if (repos.indexOf(repo) < 6) {
                const tourCard = document.createElement('div');
                tourCard.className = '6ab3d42a';
                tourCard.dataset.repo = JSON.stringify(repo);
                tourCard.innerHTML = `
                    <img src="${imageUrl}" alt="${repo.name}" class="9f342d02">
                    <div class="f56539b0">
                        <div class="a16eeb8b">${repo.name}</div>
                        <div class="cb4e74c1">
                            <div>${languages[0]}</div>
                            <div><i class="fas fa-star" style="color: gold;"></i> ${randomRating}</div>
                        </div>
                    </div>
                `;
                tourCard.addEventListener('click', () => {
                    showDetailView(repo, randomRating, randomReviews, languages, imageUrl);
                });
                relatedContainer.appendChild(tourCard);
            }
        });
    }

    // Function to handle search input
    function handleSearch() {
        const searchInput = document.getElementById('search-input').value.toLowerCase();
        if (searchInput === '') {
            // Jika input pencarian kosong, tampilkan semua repositori
            filterAndDisplayRepos(allRepos);
        } else {
            // Filter repositori berdasarkan input pengguna
            const filteredRepos = allRepos.filter(repo => {
                const repoName = repo.name.toLowerCase();
                const repoLanguage = repo.language ? repo.language.toLowerCase() : '';
                return repoName.includes(searchInput) || repoLanguage.includes(searchInput);
            });
            filterAndDisplayRepos(filteredRepos);
        }
    }

    // Add event listener to search input
    document.getElementById('search-input').addEventListener('input', handleSearch);

function createSkeletonCards(count) {
    let html = '';
    for (let i = 0; i < count; i++) {
        html += `
            <div class="destination-card skeleton">
                <div class="53c7c229"></div>
                <div class="0ef2cade">
                    <div class="skeleton-line short"></div>
                    <div class="skeleton-line medium"></div>
                    <div class="skeleton-line long"></div>
                </div>
            </div>
        `;
    }
    return html;
}

function createRelatedSkeletonCards(count) {
    let html = '';
    for (let i = 0; i < count; i++) {
        html += `
            <div class="tour-card skeleton">
                <div class="53c7c229"></div>
                <div class="0ef2cade">
                    <div class="skeleton-line short"></div>
                    <div class="skeleton-line medium"></div>
                </div>
            </div>
        `;
    }
    return html;
}

// Function to show detail view
async function showDetailView(repo, rating, reviews, languages, imageUrl) {
    document.getElementById('detail-name').textContent = repo.name;
    document.getElementById('detail-country').textContent = languages[0] || 'Unknown';
    document.getElementById('detail-rating').textContent = rating;
    document.getElementById('detail-reviews').textContent = `${reviews} reviews`;
    document.getElementById('detail-description').textContent = repo.description || 'No description available for this repository.';
    const detailView = document.getElementById('detail-view');
    if (detailView) {
            detailView.style.display = 'block';
            // Isi konten detail view sesuai dengan repo
        }

    // Set image for detail
    document.getElementById('detail-image').src = imageUrl;

    // Add language chips
    const languageChips = document.getElementById('language-chips');
    languageChips.innerHTML = '';
    
    // Add primary language
    if (languages[0]) {
        const chip = document.createElement('span');
        chip.className = '2b1c83e0';
        chip.textContent = languages[0];
        languageChips.appendChild(chip);
    }
    
    // Add some fake additional languages for visual demo
    const fakeLangs = ['HTML', 'CSS', 'JavaScript', 'Python', 'Java', 'TypeScript', 'PHP'];
    const usedLangs = new Set(languages);
    
    for (let i = 0; i < 3; i++) {
        const randomLang = fakeLangs[Math.floor(Math.random() * fakeLangs.length)];
        if (!usedLangs.has(randomLang)) {
            const chip = document.createElement('span');
            chip.className = '2b1c83e0';
            chip.textContent = randomLang;
            languageChips.appendChild(chip);
            usedLangs.add(randomLang);
        }
    }

    // Create project details for itinerary view
    const daysContainer = document.getElementById('days-container');
    daysContainer.innerHTML = '';

    // Set repo name and date in itinerary view
    document.getElementById('itinerary-name').textContent = repo.name;
    document.getElementById('itinerary-date').textContent = `Created: ${new Date(repo.created_at).toLocaleDateString()}`;

    // Add day items with repo details
    const dayItem1 = document.createElement('div');
    dayItem1.className = 'f5d2043e';
    dayItem1.innerHTML = `
        <div class="7a6163eb">
            <div>
                <div class="fc248e71">Overview</div>
                <div class="9af2331c">Repository Details</div>
            </div>
            <i class="fas fa-chevron-down expand-icon"></i>
        </div>
        <div class="b147f603">
            <img src="${imageUrl}" alt="${repo.name}" class="6544b40f">
            <div class="7fa3391e">
                <div class="13ca8eb6">
                    <div class="683c3681">Created</div>
                    <div class="4624dced">${new Date(repo.created_at).toLocaleDateString()}</div>
                </div>
                <div class="13ca8eb6">
                    <div class="683c3681">Updated</div>
                    <div class="4624dced">${new Date(repo.updated_at).toLocaleDateString()}</div>
                </div>
            </div>
        </div>
        <button class="b45b2647" onclick="window.location.href='https://github.com/4211421036/${repo.name}'">View Repository</button>
    `;
    daysContainer.appendChild(dayItem1);

    const dayItem2 = document.createElement('div');
    dayItem2.className = 'f5d2043e';
    dayItem2.innerHTML = `
        <div class="7a6163eb">
            <div>
                <div class="fc248e71">Stats</div>
                <div class="9af2331c">Repository Statistics</div>
            </div>
            <i class="fas fa-chevron-down expand-icon"></i>
        </div>
        <div class="13ca8eb6">
            <div class="683c3681">Stars</div>
            <div class="4624dced">${repo.stargazers_count}</div>
        </div>
        <div class="13ca8eb6">
            <div class="683c3681">Forks</div>
            <div class="4624dced">${repo.forks_count}</div>
        </div>
        <div class="13ca8eb6">
            <div class="683c3681">Open Issues</div>
            <div class="4624dced">${repo.open_issues_count}</div>
        </div>
    `;
    daysContainer.appendChild(dayItem2);

    // Initialize tab system and content
    initTabSystem(repo);

    // Show detail view
    document.getElementById('detail-view').style.display = 'block';
}

        // Fungsi untuk menampilkan itinerary view
    function showItineraryView() {
        const itineraryView = document.getElementById('itinerary-view');
        if (itineraryView) {
            itineraryView.style.display = 'block';
            // Isi konten itinerary view
        }
    }

    // Fungsi untuk menutup modal
    function closeModal(modalId) {
        const modal = document.getElementById(modalId);
        if (modal) {
            modal.style.display = 'none';
        }
    }

// Function to initialize tab system
function initTabSystem(repo) {
    const tabs = document.querySelectorAll('.tab-bar .tab');
    const tabContents = document.querySelectorAll('.tab-content');
    const daysContainer = document.getElementById('days-container');

    // Store current repository for later use
    window.currentRepo = repo;

    // Function to activate a tab and its content
    function activateTab(tabId) {
        // Update tab buttons appearance
        tabs.forEach(tab => {
            if (tab.getAttribute('data-tab') === tabId) {
                tab.classList.add('active');
            } else {
                tab.classList.remove('active');
            }
        });

        // Update tab contents visibility
        tabContents.forEach(content => {
            if (content.id === tabId) {
                content.classList.add('active');
                content.style.padding = '0px 25px 0 25px';
                content.style.display = 'block'; // Ensure display is set to block
            } else {
                content.classList.remove('active');
                content.style.display = 'none';
                content.style.padding = '0';
            }
        });

        // Toggle days container visibility based on tab
        if (tabId === "project-details") {
            if (daysContainer) daysContainer.style.display = 'block';
        } else {
            if (daysContainer) daysContainer.style.display = 'none';
        }
    }

    // Initially activate the first tab
    if (tabs.length > 0) {
        const initialTabId = tabs[0].getAttribute('data-tab');
        activateTab(initialTabId);

        // Track current active tab
        let currentActiveTab = initialTabId;

        tabs.forEach(tab => {
            tab.addEventListener('click', async function () {
                const clickedTabId = this.getAttribute('data-tab');

                // Always update tab appearance
                tabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');

                // If clicking the same tab that's already active, do nothing else
                if (clickedTabId === currentActiveTab) {
                    return;
                }

                // Hide all tab contents
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    content.style.display = 'none';
                });

                // Get corresponding tab content
                const activeContent = document.getElementById(clickedTabId);

                // Show active tab content
                if (activeContent) {
                    activeContent.classList.add('active');
                    activeContent.style.display = 'block';
                    activeContent.style.padding = '0px 25px 0 25px';
                }

                // Toggle days container visibility based on tab
                if (clickedTabId === "project-details") {
                    if (daysContainer) daysContainer.style.display = 'block';
                } else {
                    if (daysContainer) daysContainer.style.display = 'none';
                }

                // Update current active tab
                currentActiveTab = clickedTabId;

                // Handle different tab contents
                if (clickedTabId === "contributors") {
                    const contributorsContent = document.getElementById('contributors-list');
                    if (contributorsContent) {
                        contributorsContent.innerHTML = createContributorSkeleton(3);
                    }

                    try {
                        // Use the stored repository object to get the name
                        if (window.currentRepo && window.currentRepo.name) {
                            const contributors = await fetchRepoContributors(window.currentRepo.name);
                            if (contributorsContent) {
                                displayContributors(contributors);
                            }
                        } else {
                            throw new Error('Repository information not available');
                        }
                    } catch (error) {
                        console.error('Error loading contributors:', error);
                        if (contributorsContent) {
                            contributorsContent.innerHTML = '<p>Unable to load contributors. GitHub API rate limits may apply.</p>';
                        }
                    }
                }

                if (clickedTabId === "readme") {
                    const readmeContainer = document.querySelector('#readme .readme-container');
                    if (readmeContainer) {
                        readmeContainer.innerHTML = '<p>Loading README...</p>';
                    }

                    try {
                        // Use the stored repository object to get the name
                        if (window.currentRepo && window.currentRepo.name) {
                            const readmeContent = await fetchRepoReadme(window.currentRepo.name);
                            if (readmeContainer) {
                                readmeContainer.innerHTML = renderMarkdown(readmeContent);
                            }
                        } else {
                            throw new Error('Repository information not available');
                        }
                    } catch (error) {
                        console.error('Error loading README:', error);
                        if (readmeContainer) {
                            readmeContainer.innerHTML = '<p>No README found for this repository or GitHub API rate limits may apply.</p>';
                        }
                    }
                }
            });
        });
    }
}


function displayContributors(contributors) {
    const contributorsList = document.getElementById('contributors-list');
    
    if (!contributorsList) {
        console.error('Element with ID "contributors-list" not found');
        return;
    }

    // Show skeleton loading based on number of contributors
    const skeletonCount = contributors ? contributors.length : 3;
    contributorsList.innerHTML = createContributorSkeleton(skeletonCount);
    
    contributorsList.innerHTML = '';
    
    if (!contributors || contributors.length === 0) {
        contributorsList.innerHTML = '<p>No contributors found for this repository.</p>';
        return;
    }
    
    setTimeout(() => {
        contributorsList.innerHTML = '';
        
        contributors.forEach(contributor => {
            // Generate random stats for demonstration
            const randomAdditions = Math.floor(Math.random() * 10000) + 100;
            const randomDeletions = Math.floor(Math.random() * 5000) + 50;
            
            const contributorCard = document.createElement('div');
            contributorCard.className = '22f2b0ca';
            contributorCard.innerHTML = `
                <div class="1ee046b8">
                    <div class="95be3cd9">
                        <img src="${contributor.avatar_url}" alt="${contributor.login}">
                    </div>
                </div>
                <div class="34331d00">
                    <div class="684440ef">${contributor.login}</div>
                    <div class="f929b2b5">
                        <div class="3d00fc80">
                            <div class="7e574a40">${contributor.contributions}</div>
                            <div class="0335524c">Commits</div>
                        </div>
                        <div class="3d00fc80">
                            <div class="7e574a40">${randomAdditions}</div>
                            <div class="0335524c">Added</div>
                        </div>
                        <div class="3d00fc80">
                            <div class="7e574a40">${randomDeletions}</div>
                            <div class="0335524c">Removed</div>
                        </div>
                    </div>
                    <a href="${contributor.html_url}" target="_blank" class="e623bfa9">View Profile</a>
                </div>
            `;
            contributorsList.appendChild(contributorCard);
            // Get the elements we want to style directly from the card we just created
            const header = contributorCard.querySelector('.contributor-header');
            const statValues = contributorCard.querySelectorAll('.stat-value');
            const link = contributorCard.querySelector('.contributor-link');
            
            // Extract color from avatar and apply directly to these elements
            const img = new Image();
            img.crossOrigin = "Anonymous";
            
            img.onload = function() {
                try {
                    // Create canvas for image analysis
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    const size = 50;
                    canvas.width = size;
                    canvas.height = size;
                    
                    // Draw image to canvas
                    ctx.drawImage(img, 0, 0, size, size);
                    
                    // Get pixel data
                    const imageData = ctx.getImageData(0, 0, size, size).data;
                    
                    // Analyze colors
                    const colors = [];
                    
                    // Sample pixels
                    for (let i = 0; i < imageData.length; i += 20) {
                        const r = imageData[i];
                        const g = imageData[i + 1];
                        const b = imageData[i + 2];
                        const a = imageData[i + 3];
                        
                        // Skip transparent pixels
                        if (a < 125) continue;
                        
                        colors.push({ r, g, b });
                    }
                    
                    // Get average color (simpler approach)
                    let totalR = 0, totalG = 0, totalB = 0;
                    colors.forEach(color => {
                        totalR += color.r;
                        totalG += color.g;
                        totalB += color.b;
                    });
                    
                    const avgR = Math.round(totalR / colors.length);
                    const avgG = Math.round(totalG / colors.length);
                    const avgB = Math.round(totalB / colors.length);
                    
                    // Calculate brightness using YIQ formula
                    const brightness = ((avgR * 299) + (avgG * 587) + (avgB * 114)) / 1000;
                    const isDark = brightness < 128;
                    
                    // Create accessible colors based on dominant color
                    let accentColor, gradientStart, gradientEnd;
                    
                    if (isDark) {
                        // If dominant color is dark, brighten it for better visibility on white background
                        accentColor = {
                            r: Math.min(avgR + 50, 255),
                            g: Math.min(avgG + 50, 255),
                            b: Math.min(avgB + 50, 255)
                        };
                        
                        // Make darker gradients for better text contrast
                        gradientStart = {
                            r: avgR,
                            g: avgG,
                            b: avgB
                        };
                        
                        gradientEnd = {
                            r: Math.max(avgR - 40, 0),
                            g: Math.max(avgG - 40, 0),
                            b: Math.max(avgB - 40, 0)
                        };
                    } else {
                        // If dominant color is light, darken it for better visibility on white background
                        accentColor = {
                            r: Math.max(avgR - 60, 0),
                            g: Math.max(avgG - 60, 0),
                            b: Math.max(avgB - 60, 0)
                        };
                        
                        // Make light gradients for header
                        gradientStart = {
                            r: avgR,
                            g: avgG,
                            b: avgB
                        };
                        
                        gradientEnd = {
                            r: Math.max(avgR - 40, 0),
                            g: Math.max(avgG - 40, 0),
                            b: Math.max(avgB - 40, 0)
                        };
                    }
                    
                    // Ensure minimum contrast for accent color (for text visibility)
                    const accentBrightness = ((accentColor.r * 299) + (accentColor.g * 587) + (accentColor.b * 114)) / 1000;
                    if (accentBrightness > 200) {
                        // Too bright for text on white, darken it
                        accentColor.r = Math.max(accentColor.r - 100, 0);
                        accentColor.g = Math.max(accentColor.g - 100, 0);
                        accentColor.b = Math.max(accentColor.b - 100, 0);
                    } else if (accentBrightness > 125 && accentBrightness <= 200) {
                        // Medium brightness, darken a bit
                        accentColor.r = Math.max(accentColor.r - 50, 0);
                        accentColor.g = Math.max(accentColor.g - 50, 0);
                        accentColor.b = Math.max(accentColor.b - 50, 0);
                    }
                    
                    // Convert to hex
                    const accentHex = rgbToHex(accentColor.r, accentColor.g, accentColor.b);
                    const gradientStartHex = rgbToHex(gradientStart.r, gradientStart.g, gradientStart.b);
                    const gradientEndHex = rgbToHex(gradientEnd.r, gradientEnd.g, gradientEnd.b);
                    
                    // Apply styles
                    if (header) {
                        header.style.background = `linear-gradient(135deg, ${gradientStartHex}, ${gradientEndHex})`;
                    }
                    
                    statValues.forEach(statValue => {
                        statValue.style.color = accentHex;
                    });
                    
                    if (link) {
                        link.style.color = accentHex;
                        
                        // Add hover effect with a slightly different shade
                        const hoverColor = isDark ? 
                            rgbToHex(
                                Math.min(accentColor.r + 30, 255),
                                Math.min(accentColor.g + 30, 255),
                                Math.min(accentColor.b + 30, 255)
                            ) : 
                            rgbToHex(
                                Math.max(accentColor.r - 30, 0),
                                Math.max(accentColor.g - 30, 0),
                                Math.max(accentColor.b - 30, 0)
                            );
                        
                        link.addEventListener('mouseover', function() {
                            this.style.color = hoverColor;
                        });
                        
                        link.addEventListener('mouseout', function() {
                            this.style.color = accentHex;
                        });
                    }
                    
                } catch (error) {
                    console.error('Error extracting color:', error);
                }
            };
            
            img.onerror = function() {
                console.error('Error loading image');
            };
            
            img.src = contributor.avatar_url;
        });
    }, 1000); // Simulate 1 second loading delay
}

function createContributorSkeleton(count) {
    let html = '';
    for (let i = 0; i < count; i++) {
        html += `
            <div class="contributor-card skeleton">
                <div class="contributor-header skeleton">
                    <div class="contributor-avatar skeleton"></div>
                </div>
                <div class="contributor-body skeleton">
                    <div class="contributor-name skeleton"></div>
                    <div class="contribution-stats skeleton">
                        <div class="stat skeleton">
                            <div class="stat-value skeleton"></div>
                            <div class="stat-label skeleton"></div>
                        </div>
                        <div class="stat skeleton">
                            <div class="stat-value skeleton"></div>
                            <div class="stat-label skeleton"></div>
                        </div>
                        <div class="stat skeleton">
                            <div class="stat-value skeleton"></div>
                            <div class="stat-label skeleton"></div>
                        </div>
                    </div>
                </div>
            </div>
        `;
    }
    return html;
}
// Helper function to convert RGB to Hex
function rgbToHex(r, g, b) {
    return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
}
// Function to load contributors (updated with error handling)
async function fetchRepoContributors(repoName) {
    if (!repoName) {
        console.error('Repository name is required');
        throw new Error('Repository name is required');
    }
    
    try {
        console.log(`Fetching contributors for: ${repoName}`);
        const response = await fetch(`https://api.github.com/repos/4211421036/${repoName}/contributors`);
        
        if (!response.ok) {
            const errorText = await response.text();
            console.error('GitHub API error:', response.status, errorText);
            
            if (response.status === 403 && response.headers.get('X-RateLimit-Remaining') === '0') {
                throw new Error('GitHub API rate limit exceeded. Please try again later.');
            } else if (response.status === 404) {
                throw new Error('No contributors found for this repository.');
            } else {
                throw new Error(`Failed to fetch contributors: ${response.status} ${response.statusText}`);
            }
        }
        
        const data = await response.json();
        return data;
    } catch (error) {
        console.error('Error fetching contributors:', error);
        throw error;
    }
}

// Function to fetch README (updated with error handling)
async function fetchRepoReadme(repoName) {
    if (!repoName) {
        console.error('Repository name is required');
        return 'No repository name provided';
    }
    
    try {
        console.log(`Fetching README for: ${repoName}`);
        const response = await fetch(`https://api.github.com/repos/4211421036/${repoName}/readme`);
        
        if (!response.ok) {
            if (response.status === 404) {
                return 'No README found for this repository.';
            }
            
            const errorData = await response.json().catch(() => ({}));
            console.error('GitHub API error:', response.status, errorData);
            throw new Error(`Failed to fetch README: ${response.status} ${response.statusText}`);
        }
        
        const data = await response.json();
        
        // Decode base64 content
        if (data && data.content) {
            return atob(data.content);
        } else {
            return 'README content not available';
        }
    } catch (error) {
        console.error('Error fetching README:', error);
        return 'Error loading README. GitHub API rate limits may apply.';
    }
}

// Function to render markdown
function renderMarkdown(markdown) {
    if (!markdown || typeof markdown !== 'string') {
        return '<p>No content to display</p>';
    }
    
    // Simple markdown conversion
    let html = markdown
        .replace(/^# (.*$)/gm, '<h1>$1</h1>')
        .replace(/^## (.*$)/gm, '<h2>$1</h2>')
        .replace(/^### (.*$)/gm, '<h3>$1</h3>')
        .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
        .replace(/\*(.*?)\*/g, '<em>$1</em>')
        .replace(/\[(.*?)\]\((.*?)\)/g, '<a href="$2" target="_blank">$1</a>')
        .replace(/```([\s\S]*?)```/g, '<pre><code>$1</code></pre>');
    
    // Convert lines to paragraphs
    const lines = html.split('\n');
    let output = '';
    for (let line of lines) {
        if (line.trim() && !line.startsWith('<h') && !line.startsWith('<pre>')) {
            output += `<p>${line}</p>`;
        } else {
            output += line;
        }
    }
    
    return output;
}

        // Tambahkan event listener untuk detail-view dan itinerary-view
    const detailView = document.getElementById('detail-view');
    const itineraryView = document.getElementById('itinerary-view');

    if (detailView) {
        handleSwipeGesture(detailView);
    }

    if (itineraryView) {
        handleSwipeGesture(itineraryView);
    }

document.getElementById('back-to-home').addEventListener('click', () => closeModal('detail-view'));
    document.getElementById('back-to-detail').addEventListener('click', () => closeModal('itinerary-view'));
        
// Read more button event
document.getElementById('read-more').addEventListener('click', function() {
    // Show itinerary view when read more is clicked
    document.getElementById('itinerary-view').style.display = 'block';
});

// Fetch GitHub repos when the page loads
document.addEventListener('DOMContentLoaded', function() {
    initTabSystem();
    fetchGitHubRepos();
    const searchInput = document.getElementById('search-input');
    if (searchInput) {
        searchInput.addEventListener('input', handleSearch);
    } else {
        console.error('Elemen dengan ID "search-input" tidak ditemukan.');
    }
});
         // Event listener untuk menu Liked
    document.querySelector('.nav-item:nth-child(3)').addEventListener('click', () => {
        displayLikedRepos();
        document.getElementById('liked-view').style.display = 'block';
    });

    // Event listener untuk menu Saved
    document.querySelector('.nav-item:nth-child(2)').addEventListener('click', () => {
        displaySavedRepos();
        document.getElementById('saved-view').style.display = 'block';
    });

    // Tutup modal Liked dan Saved
    document.addEventListener('click', (e) => {
        if (e.target.classList.contains('modal') || e.target.classList.contains('close-modal')) {
            e.target.style.display = 'none';
        }
    });
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('../sw.js')
                    .then(registration => {
                        console.log('Service Worker registered with scope: ', registration.scope);
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }
    <</pre></script><script>function generateRandomString(t=8){let s="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o="";for(let e=0;e<t;e++)o+=s.charAt(Math.floor(Math.random()*s.length));return o}class CSSObfuscator{constructor(){this.classMap={},this.idMap={},this.styleElement=null}init(){this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this.processStylesheets(),this.processHTMLElements(),sessionStorage.setItem("obfuscatorClassMap",JSON.stringify(this.classMap)),sessionStorage.setItem("obfuscatorIdMap",JSON.stringify(this.idMap))}loadMappingFromSession(){var e=sessionStorage.getItem("obfuscatorClassMap"),t=sessionStorage.getItem("obfuscatorIdMap");e&&(this.classMap=JSON.parse(e)),t&&(this.idMap=JSON.parse(t))}getObfuscatedClass(e){return this.classMap[e]||(this.classMap[e]="c_"+generateRandomString()),this.classMap[e]}getObfuscatedId(e){return this.idMap[e]||(this.idMap[e]="i_"+generateRandomString()),this.idMap[e]}processStylesheets(){var t,e,s=[];for(let e=0;e<document.styleSheets.length;e++)try{var o=document.styleSheets[e];if(o.cssRules)for(let e=0;e<o.cssRules.length;e++)s.push(o.cssRules[e])}catch(t){console.warn("Cannot access stylesheet rules:",t)}for(t of s)t.selectorText?(e=this.processSelector(t.selectorText),e=t.cssText.replace(t.selectorText,e),this.styleElement.textContent+=e+"\n"):this.styleElement.textContent+=t.cssText+"\n"}processSelector(e){return e.includes(",")?e.split(",").map(e=>this.processSelector(e.trim())).join(", "):e.replace(/\.([\w-]+)/g,(e,t)=>"."+this.getObfuscatedClass(t)).replace(/#([\w-]+)/g,(e,t)=>"#"+this.getObfuscatedId(t))}processHTMLElements(){document.querySelectorAll("[class]").forEach(e=>{var t=e.className.split(" ").filter(Boolean).map(e=>this.getObfuscatedClass(e));e.className=t.join(" ")}),document.querySelectorAll("[id]").forEach(e=>{var t=e.id;e.id=this.getObfuscatedId(t)}),this.updateJavaScriptSelectors()}updateJavaScriptSelectors(){let t=Element.prototype.querySelector,s=Element.prototype.querySelectorAll,o=this,l=(Element.prototype.querySelector=function(e){return e=o.processSelector(e),t.call(this,e)},Element.prototype.querySelectorAll=function(e){return e=o.processSelector(e),s.call(this,e)},Document.prototype.querySelector),r=Document.prototype.querySelectorAll,a=(Document.prototype.querySelector=function(e){return e=o.processSelector(e),l.call(this,e)},Document.prototype.querySelectorAll=function(e){return e=o.processSelector(e),r.call(this,e)},Document.prototype.getElementById),c=(Document.prototype.getElementById=function(e){return e=o.getObfuscatedId(e),a.call(this,e)},Document.prototype.getElementsByClassName);Document.prototype.getElementsByClassName=function(e){var t;return e.includes(" ")?(t=e.split(" ").filter(Boolean).map(e=>o.getObfuscatedClass(e)),c.call(this,t.join(" "))):(t=o.getObfuscatedClass(e),c.call(this,t))}}}document.addEventListener("DOMContentLoaded",()=>{var e=new CSSObfuscator;e.loadMappingFromSession(),e.init(),console.log("CSS obfuscation applied. Class map:",e.classMap,"ID map:",e.idMap)})</script></body></html>